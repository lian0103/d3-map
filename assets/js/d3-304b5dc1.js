import"./d3-transition-9b9601cc.js";import"./d3-zoom-913a648a.js";class b{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const f=e[r],u=t+f,s=Math.abs(t)<Math.abs(f)?t-(u-f):f-(u-t);s&&(e[i++]=s),t=u}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,r,f,u=0;if(e>0){for(u=t[--e];e>0&&(i=u,r=t[--e],u=i+r,f=r-(u-i),!f););e>0&&(f<0&&t[e-1]<0||f>0&&t[e-1]>0)&&(r=f*2,i=u+r,r==i-u&&(u=i))}return u}}function*qt(n){for(const t of n)yield*t}function Et(n){return Array.from(qt(n))}var T=1e-6,Dt=1e-12,I=Math.PI,H=I/2,bn=I/4,J=I*2,k=180/I,B=I/180,F=Math.abs,Ot=Math.atan,gn=Math.atan2,D=Math.cos,O=Math.sin,Xt=Math.sign||function(n){return n>0?1:n<0?-1:0},tn=Math.sqrt;function Yt(n){return n>1?0:n<-1?I:Math.acos(n)}function vn(n){return n>1?H:n<-1?-H:Math.asin(n)}function W(){}function Pn(n,t){n&&tt.hasOwnProperty(n.type)&&tt[n.type](n,t)}var nt={Feature:function(n,t){Pn(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,r=e.length;++i<r;)Pn(e[i].geometry,t)}},tt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Dn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)Dn(e[i],t,0)},Polygon:function(n,t){it(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,r=e.length;++i<r;)it(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,r=e.length;++i<r;)Pn(e[i],t)}};function Dn(n,t,e){var i=-1,r=n.length-e,f;for(t.lineStart();++i<r;)f=n[i],t.point(f[0],f[1],f[2]);t.lineEnd()}function it(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Dn(n[e],t,1);t.polygonEnd()}function en(n,t){n&&nt.hasOwnProperty(n.type)?nt[n.type](n,t):Pn(n,t)}function On(n){return[gn(n[1],n[0]),vn(n[2])]}function un(n){var t=n[0],e=n[1],i=D(e);return[i*D(t),i*O(t),O(e)]}function En(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Rn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Tn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function yn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Xn(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Yn(n,t){function e(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,r){return i=t.invert(i,r),i&&n.invert(i[0],i[1])}),e}function Zn(n,t){return[F(n)>I?n+Math.round(-n/J)*J:n,t]}Zn.invert=Zn;function Zt(n,t,e){return(n%=J)?t||e?Yn(et(n),ot(t,e)):et(n):t||e?ot(t,e):Zn}function rt(n){return function(t,e){return t+=n,[t>I?t-J:t<-I?t+J:t,e]}}function et(n){var t=rt(n);return t.invert=rt(-n),t}function ot(n,t){var e=D(n),i=O(n),r=D(t),f=O(t);function u(s,v){var g=D(v),o=D(s)*g,l=O(s)*g,c=O(v),p=c*e+o*i;return[gn(l*r-p*f,o*e-c*i),vn(p*r+l*f)]}return u.invert=function(s,v){var g=D(v),o=D(s)*g,l=O(s)*g,c=O(v),p=c*r-l*f;return[gn(l*r+c*f,o*e+p*i),vn(p*e-o*i)]},u}function Bt(n,t,e,i,r,f){if(!!e){var u=D(t),s=O(t),v=i*e;r==null?(r=t+i*J,f=t-v/2):(r=ut(u,r),f=ut(u,f),(i>0?r<f:r>f)&&(r+=i*J));for(var g,o=r;i>0?o>f:o<f;o-=v)g=On([u,-s*D(o),-s*O(o)]),n.point(g[0],g[1])}}function ut(n,t){t=un(t),t[0]-=n,Xn(t);var e=Yt(-t[1]);return((-t[2]<0?-e:e)+J-T)%J}function yt(){var n=[],t;return{point:function(e,i,r){t.push([e,i,r])},lineStart:function(){n.push(t=[])},lineEnd:W,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Mn(n,t){return F(n[0]-t[0])<T&&F(n[1]-t[1])<T}function _n(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function _t(n,t,e,i,r){var f=[],u=[],s,v;if(n.forEach(function(h){if(!((_=h.length-1)<=0)){var _,S=h[0],R=h[_],E;if(Mn(S,R)){if(!S[2]&&!R[2]){for(r.lineStart(),s=0;s<_;++s)r.point((S=h[s])[0],S[1]);r.lineEnd();return}R[0]+=2*T}f.push(E=new _n(S,h,null,!0)),u.push(E.o=new _n(S,null,E,!1)),f.push(E=new _n(R,h,null,!1)),u.push(E.o=new _n(R,null,E,!0))}}),!!f.length){for(u.sort(t),ft(f),ft(u),s=0,v=u.length;s<v;++s)u[s].e=e=!e;for(var g=f[0],o,l;;){for(var c=g,p=!0;c.v;)if((c=c.n)===g)return;o=c.z,r.lineStart();do{if(c.v=c.o.v=!0,c.e){if(p)for(s=0,v=o.length;s<v;++s)r.point((l=o[s])[0],l[1]);else i(c.x,c.n.x,1,r);c=c.n}else{if(p)for(o=c.p.z,s=o.length-1;s>=0;--s)r.point((l=o[s])[0],l[1]);else i(c.x,c.p.x,-1,r);c=c.p}c=c.o,o=c.z,p=!p}while(!c.v);r.lineEnd()}}}function ft(n){if(!!(t=n.length)){for(var t,e=0,i=n[0],r;++e<t;)i.n=r=n[e],r.p=i,i=r;i.n=r=n[0],r.p=i}}function Cn(n){return F(n[0])<=I?n[0]:Xt(n[0])*((F(n[0])+I)%J-I)}function Gt(n,t){var e=Cn(t),i=t[1],r=O(i),f=[O(e),-D(e),0],u=0,s=0,v=new b;r===1?i=H+T:r===-1&&(i=-H-T);for(var g=0,o=n.length;g<o;++g)if(!!(c=(l=n[g]).length))for(var l,c,p=l[c-1],h=Cn(p),_=p[1]/2+bn,S=O(_),R=D(_),E=0;E<c;++E,h=d,S=P,R=A,p=w){var w=l[E],d=Cn(w),M=w[1]/2+bn,P=O(M),A=D(M),L=d-h,z=L>=0?1:-1,C=z*L,y=C>I,Y=S*P;if(v.add(gn(Y*z*O(C),R*A+Y*D(C))),u+=y?L+z*J:L,y^h>=e^d>=e){var q=Rn(un(p),un(w));Xn(q);var $=Rn(f,q);Xn($);var a=(y^L>=0?-1:1)*vn($[2]);(i>a||i===a&&(q[0]||q[1]))&&(s+=y^L>=0?1:-1)}}return(u<-T||u<T&&v<-Dt)^s&1}function wt(n,t,e,i){return function(r){var f=t(r),u=yt(),s=t(u),v=!1,g,o,l,c={point:p,lineStart:_,lineEnd:S,polygonStart:function(){c.point=R,c.lineStart=E,c.lineEnd=w,o=[],g=[]},polygonEnd:function(){c.point=p,c.lineStart=_,c.lineEnd=S,o=Et(o);var d=Gt(g,i);o.length?(v||(r.polygonStart(),v=!0),_t(o,Wt,d,e,r)):d&&(v||(r.polygonStart(),v=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),v&&(r.polygonEnd(),v=!1),o=g=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(d,M){n(d,M)&&r.point(d,M)}function h(d,M){f.point(d,M)}function _(){c.point=h,f.lineStart()}function S(){c.point=p,f.lineEnd()}function R(d,M){l.push([d,M]),s.point(d,M)}function E(){s.lineStart(),l=[]}function w(){R(l[0][0],l[0][1]),s.lineEnd();var d=s.clean(),M=u.result(),P,A=M.length,L,z,C;if(l.pop(),g.push(l),l=null,!!A){if(d&1){if(z=M[0],(L=z.length-1)>0){for(v||(r.polygonStart(),v=!0),r.lineStart(),P=0;P<L;++P)r.point((C=z[P])[0],C[1]);r.lineEnd()}return}A>1&&d&2&&M.push(M.pop().concat(M.shift())),o.push(M.filter(Ht))}}return c}}function Ht(n){return n.length>1}function Wt(n,t){return((n=n.x)[0]<0?n[1]-H-T:H-n[1])-((t=t.x)[0]<0?t[1]-H-T:H-t[1])}const lt=wt(function(){return!0},Jt,Qt,[-I,-H]);function Jt(n){var t=NaN,e=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(f,u){var s=f>0?I:-I,v=F(f-t);F(v-I)<T?(n.point(t,e=(e+u)/2>0?H:-H),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(s,e),n.point(f,e),r=0):i!==s&&v>=I&&(F(t-i)<T&&(t-=i*T),F(f-s)<T&&(f-=s*T),e=Kt(t,e,f,u),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(s,e),r=0),n.point(t=f,e=u),i=s},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-r}}}function Kt(n,t,e,i){var r,f,u=O(n-e);return F(u)>T?Ot((O(t)*(f=D(i))*O(e)-O(i)*(r=D(t))*O(n))/(r*f*u)):(t+i)/2}function Qt(n,t,e,i){var r;if(n==null)r=e*H,i.point(-I,r),i.point(0,r),i.point(I,r),i.point(I,0),i.point(I,-r),i.point(0,-r),i.point(-I,-r),i.point(-I,0),i.point(-I,r);else if(F(n[0]-t[0])>T){var f=n[0]<t[0]?I:-I;r=e*f/2,i.point(-f,r),i.point(0,r),i.point(f,r)}else i.point(t[0],t[1])}function Ut(n){var t=D(n),e=6*B,i=t>0,r=F(t)>T;function f(o,l,c,p){Bt(p,n,e,c,o,l)}function u(o,l){return D(o)*D(l)>t}function s(o){var l,c,p,h,_;return{lineStart:function(){h=p=!1,_=1},point:function(S,R){var E=[S,R],w,d=u(S,R),M=i?d?0:g(S,R):d?g(S+(S<0?I:-I),R):0;if(!l&&(h=p=d)&&o.lineStart(),d!==p&&(w=v(l,E),(!w||Mn(l,w)||Mn(E,w))&&(E[2]=1)),d!==p)_=0,d?(o.lineStart(),w=v(E,l),o.point(w[0],w[1])):(w=v(l,E),o.point(w[0],w[1],2),o.lineEnd()),l=w;else if(r&&l&&i^d){var P;!(M&c)&&(P=v(E,l,!0))&&(_=0,i?(o.lineStart(),o.point(P[0][0],P[0][1]),o.point(P[1][0],P[1][1]),o.lineEnd()):(o.point(P[1][0],P[1][1]),o.lineEnd(),o.lineStart(),o.point(P[0][0],P[0][1],3)))}d&&(!l||!Mn(l,E))&&o.point(E[0],E[1]),l=E,p=d,c=M},lineEnd:function(){p&&o.lineEnd(),l=null},clean:function(){return _|(h&&p)<<1}}}function v(o,l,c){var p=un(o),h=un(l),_=[1,0,0],S=Rn(p,h),R=En(S,S),E=S[0],w=R-E*E;if(!w)return!c&&o;var d=t*R/w,M=-t*E/w,P=Rn(_,S),A=yn(_,d),L=yn(S,M);Tn(A,L);var z=P,C=En(A,z),y=En(z,z),Y=C*C-y*(En(A,A)-1);if(!(Y<0)){var q=tn(Y),$=yn(z,(-C-q)/y);if(Tn($,A),$=On($),!c)return $;var a=o[0],N=l[0],X=o[1],Z=l[1],G;N<a&&(G=a,a=N,N=G);var ln=N-a,V=F(ln-I)<T,x=V||ln<T;if(!V&&Z<X&&(G=X,X=Z,Z=G),x?V?X+Z>0^$[1]<(F($[0]-a)<T?X:Z):X<=$[1]&&$[1]<=Z:ln>I^(a<=$[0]&&$[0]<=N)){var m=yn(z,(-C+q)/y);return Tn(m,A),[$,On(m)]}}}function g(o,l){var c=i?n:I-n,p=0;return o<-c?p|=1:o>c&&(p|=2),l<-c?p|=4:l>c&&(p|=8),p}return wt(u,s,f,i?[0,-n]:[-I,n-I])}function Vt(n,t,e,i,r,f){var u=n[0],s=n[1],v=t[0],g=t[1],o=0,l=1,c=v-u,p=g-s,h;if(h=e-u,!(!c&&h>0)){if(h/=c,c<0){if(h<o)return;h<l&&(l=h)}else if(c>0){if(h>l)return;h>o&&(o=h)}if(h=r-u,!(!c&&h<0)){if(h/=c,c<0){if(h>l)return;h>o&&(o=h)}else if(c>0){if(h<o)return;h<l&&(l=h)}if(h=i-s,!(!p&&h>0)){if(h/=p,p<0){if(h<o)return;h<l&&(l=h)}else if(p>0){if(h>l)return;h>o&&(o=h)}if(h=f-s,!(!p&&h<0)){if(h/=p,p<0){if(h>l)return;h>o&&(o=h)}else if(p>0){if(h<o)return;h<l&&(l=h)}return o>0&&(n[0]=u+o*c,n[1]=s+o*p),l<1&&(t[0]=u+l*c,t[1]=s+l*p),!0}}}}}var cn=1e9,wn=-cn;function mt(n,t,e,i){function r(g,o){return n<=g&&g<=e&&t<=o&&o<=i}function f(g,o,l,c){var p=0,h=0;if(g==null||(p=u(g,l))!==(h=u(o,l))||v(g,o)<0^l>0)do c.point(p===0||p===3?n:e,p>1?i:t);while((p=(p+l+4)%4)!==h);else c.point(o[0],o[1])}function u(g,o){return F(g[0]-n)<T?o>0?0:3:F(g[0]-e)<T?o>0?2:1:F(g[1]-t)<T?o>0?1:0:o>0?3:2}function s(g,o){return v(g.x,o.x)}function v(g,o){var l=u(g,1),c=u(o,1);return l!==c?l-c:l===0?o[1]-g[1]:l===1?g[0]-o[0]:l===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,l=yt(),c,p,h,_,S,R,E,w,d,M,P,A={point:L,lineStart:Y,lineEnd:q,polygonStart:C,polygonEnd:y};function L(a,N){r(a,N)&&o.point(a,N)}function z(){for(var a=0,N=0,X=p.length;N<X;++N)for(var Z=p[N],G=1,ln=Z.length,V=Z[0],x,m,dn=V[0],rn=V[1];G<ln;++G)x=dn,m=rn,V=Z[G],dn=V[0],rn=V[1],m<=i?rn>i&&(dn-x)*(i-m)>(rn-m)*(n-x)&&++a:rn<=i&&(dn-x)*(i-m)<(rn-m)*(n-x)&&--a;return a}function C(){o=l,c=[],p=[],P=!0}function y(){var a=z(),N=P&&a,X=(c=Et(c)).length;(N||X)&&(g.polygonStart(),N&&(g.lineStart(),f(null,null,1,g),g.lineEnd()),X&&_t(c,s,a,f,g),g.polygonEnd()),o=g,c=p=h=null}function Y(){A.point=$,p&&p.push(h=[]),M=!0,d=!1,E=w=NaN}function q(){c&&($(_,S),R&&d&&l.rejoin(),c.push(l.result())),A.point=L,d&&o.lineEnd()}function $(a,N){var X=r(a,N);if(p&&h.push([a,N]),M)_=a,S=N,R=X,M=!1,X&&(o.lineStart(),o.point(a,N));else if(X&&d)o.point(a,N);else{var Z=[E=Math.max(wn,Math.min(cn,E)),w=Math.max(wn,Math.min(cn,w))],G=[a=Math.max(wn,Math.min(cn,a)),N=Math.max(wn,Math.min(cn,N))];Vt(Z,G,n,t,e,i)?(d||(o.lineStart(),o.point(Z[0],Z[1])),o.point(G[0],G[1]),X||o.lineEnd(),P=!1):X&&(o.lineStart(),o.point(a,N),P=!1)}E=a,w=N,d=X}return A}}const Bn=n=>n;var Fn=new b,Gn=new b,Mt,Pt,Hn,Wn,j={point:W,lineStart:W,lineEnd:W,polygonStart:function(){j.lineStart=kt,j.lineEnd=xt},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=W,Fn.add(F(Gn)),Gn=new b},result:function(){var n=Fn/2;return Fn=new b,n}};function kt(){j.point=jt}function jt(n,t){j.point=Rt,Mt=Hn=n,Pt=Wn=t}function Rt(n,t){Gn.add(Wn*n-Hn*t),Hn=n,Wn=t}function xt(){Rt(Mt,Pt)}const ct=j;var fn=1/0,Nn=fn,Sn=-fn,In=Sn,bt={point:ni,lineStart:W,lineEnd:W,polygonStart:W,polygonEnd:W,result:function(){var n=[[fn,Nn],[Sn,In]];return Sn=In=-(Nn=fn=1/0),n}};function ni(n,t){n<fn&&(fn=n),n>Sn&&(Sn=n),t<Nn&&(Nn=t),t>In&&(In=t)}const Ln=bt;var Jn=0,Kn=0,an=0,zn=0,An=0,on=0,Qn=0,Un=0,sn=0,Nt,It,Q,U,K={point:nn,lineStart:at,lineEnd:st,polygonStart:function(){K.lineStart=ri,K.lineEnd=ei},polygonEnd:function(){K.point=nn,K.lineStart=at,K.lineEnd=st},result:function(){var n=sn?[Qn/sn,Un/sn]:on?[zn/on,An/on]:an?[Jn/an,Kn/an]:[NaN,NaN];return Jn=Kn=an=zn=An=on=Qn=Un=sn=0,n}};function nn(n,t){Jn+=n,Kn+=t,++an}function at(){K.point=ti}function ti(n,t){K.point=ii,nn(Q=n,U=t)}function ii(n,t){var e=n-Q,i=t-U,r=tn(e*e+i*i);zn+=r*(Q+n)/2,An+=r*(U+t)/2,on+=r,nn(Q=n,U=t)}function st(){K.point=nn}function ri(){K.point=oi}function ei(){Lt(Nt,It)}function oi(n,t){K.point=Lt,nn(Nt=Q=n,It=U=t)}function Lt(n,t){var e=n-Q,i=t-U,r=tn(e*e+i*i);zn+=r*(Q+n)/2,An+=r*(U+t)/2,on+=r,r=U*n-Q*t,Qn+=r*(Q+n),Un+=r*(U+t),sn+=r*3,nn(Q=n,U=t)}const pt=K;function zt(n){this._context=n}zt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:W};var Vn=new b,qn,At,$t,pn,hn,$n={point:W,lineStart:function(){$n.point=ui},lineEnd:function(){qn&&Tt(At,$t),$n.point=W},polygonStart:function(){qn=!0},polygonEnd:function(){qn=null},result:function(){var n=+Vn;return Vn=new b,n}};function ui(n,t){$n.point=Tt,At=pn=n,$t=hn=t}function Tt(n,t){pn-=n,hn-=t,Vn.add(tn(pn*pn+hn*hn)),pn=n,hn=t}const ht=$n;function Ct(){this._string=[]}Ct.prototype={_radius:4.5,_circle:gt(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=gt(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function gt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function _i(n,t){var e=4.5,i,r;function f(u){return u&&(typeof e=="function"&&r.pointRadius(+e.apply(this,arguments)),en(u,i(r))),r.result()}return f.area=function(u){return en(u,i(ct)),ct.result()},f.measure=function(u){return en(u,i(ht)),ht.result()},f.bounds=function(u){return en(u,i(Ln)),Ln.result()},f.centroid=function(u){return en(u,i(pt)),pt.result()},f.projection=function(u){return arguments.length?(i=u==null?(n=null,Bn):(n=u).stream,f):n},f.context=function(u){return arguments.length?(r=u==null?(t=null,new Ct):new zt(t=u),typeof e!="function"&&r.pointRadius(e),f):t},f.pointRadius=function(u){return arguments.length?(e=typeof u=="function"?u:(r.pointRadius(+u),+u),f):e},f.projection(n).context(t)}function jn(n){return function(t){var e=new mn;for(var i in n)e[i]=n[i];return e.stream=t,e}}function mn(){}mn.prototype={constructor:mn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function xn(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(e,n.stream(Ln)),t(Ln.result()),i!=null&&n.clipExtent(i),n}function Ft(n,t,e){return xn(n,function(i){var r=t[1][0]-t[0][0],f=t[1][1]-t[0][1],u=Math.min(r/(i[1][0]-i[0][0]),f/(i[1][1]-i[0][1])),s=+t[0][0]+(r-u*(i[1][0]+i[0][0]))/2,v=+t[0][1]+(f-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([s,v])},e)}function fi(n,t,e){return Ft(n,[[0,0],t],e)}function li(n,t,e){return xn(n,function(i){var r=+t,f=r/(i[1][0]-i[0][0]),u=(r-f*(i[1][0]+i[0][0]))/2,s=-f*i[0][1];n.scale(150*f).translate([u,s])},e)}function ci(n,t,e){return xn(n,function(i){var r=+t,f=r/(i[1][1]-i[0][1]),u=-f*i[0][0],s=(r-f*(i[1][1]+i[0][1]))/2;n.scale(150*f).translate([u,s])},e)}var vt=16,ai=D(30*B);function St(n,t){return+t?pi(n,t):si(n)}function si(n){return jn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function pi(n,t){function e(i,r,f,u,s,v,g,o,l,c,p,h,_,S){var R=g-i,E=o-r,w=R*R+E*E;if(w>4*t&&_--){var d=u+c,M=s+p,P=v+h,A=tn(d*d+M*M+P*P),L=vn(P/=A),z=F(F(P)-1)<T||F(f-l)<T?(f+l)/2:gn(M,d),C=n(z,L),y=C[0],Y=C[1],q=y-i,$=Y-r,a=E*q-R*$;(a*a/w>t||F((R*q+E*$)/w-.5)>.3||u*c+s*p+v*h<ai)&&(e(i,r,f,u,s,v,y,Y,z,d/=A,M/=A,P,_,S),S.point(y,Y),e(y,Y,z,d,M,P,g,o,l,c,p,h,_,S))}}return function(i){var r,f,u,s,v,g,o,l,c,p,h,_,S={point:R,lineStart:E,lineEnd:d,polygonStart:function(){i.polygonStart(),S.lineStart=M},polygonEnd:function(){i.polygonEnd(),S.lineStart=E}};function R(L,z){L=n(L,z),i.point(L[0],L[1])}function E(){l=NaN,S.point=w,i.lineStart()}function w(L,z){var C=un([L,z]),y=n(L,z);e(l,c,o,p,h,_,l=y[0],c=y[1],o=L,p=C[0],h=C[1],_=C[2],vt,i),i.point(l,c)}function d(){S.point=R,i.lineEnd()}function M(){E(),S.point=P,S.lineEnd=A}function P(L,z){w(r=L,z),f=l,u=c,s=p,v=h,g=_,S.point=w}function A(){e(l,c,o,p,h,_,f,u,r,s,v,g,vt,i),S.lineEnd=d,d()}return S}}var hi=jn({point:function(n,t){this.stream.point(n*B,t*B)}});function gi(n){return jn({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function vi(n,t,e,i,r){function f(u,s){return u*=i,s*=r,[t+n*u,e-n*s]}return f.invert=function(u,s){return[(u-t)/n*i,(e-s)/n*r]},f}function dt(n,t,e,i,r,f){if(!f)return vi(n,t,e,i,r);var u=D(f),s=O(f),v=u*n,g=s*n,o=u/n,l=s/n,c=(s*e-u*t)/n,p=(s*t+u*e)/n;function h(_,S){return _*=i,S*=r,[v*_-g*S+t,e-g*_-v*S]}return h.invert=function(_,S){return[i*(o*_-l*S+c),r*(p-l*_-o*S)]},h}function Si(n){return di(function(){return n})()}function di(n){var t,e=150,i=480,r=250,f=0,u=0,s=0,v=0,g=0,o,l=0,c=1,p=1,h=null,_=lt,S=null,R,E,w,d=Bn,M=.5,P,A,L,z,C;function y(a){return L(a[0]*B,a[1]*B)}function Y(a){return a=L.invert(a[0],a[1]),a&&[a[0]*k,a[1]*k]}y.stream=function(a){return z&&C===a?z:z=hi(gi(o)(_(P(d(C=a)))))},y.preclip=function(a){return arguments.length?(_=a,h=void 0,$()):_},y.postclip=function(a){return arguments.length?(d=a,S=R=E=w=null,$()):d},y.clipAngle=function(a){return arguments.length?(_=+a?Ut(h=a*B):(h=null,lt),$()):h*k},y.clipExtent=function(a){return arguments.length?(d=a==null?(S=R=E=w=null,Bn):mt(S=+a[0][0],R=+a[0][1],E=+a[1][0],w=+a[1][1]),$()):S==null?null:[[S,R],[E,w]]},y.scale=function(a){return arguments.length?(e=+a,q()):e},y.translate=function(a){return arguments.length?(i=+a[0],r=+a[1],q()):[i,r]},y.center=function(a){return arguments.length?(f=a[0]%360*B,u=a[1]%360*B,q()):[f*k,u*k]},y.rotate=function(a){return arguments.length?(s=a[0]%360*B,v=a[1]%360*B,g=a.length>2?a[2]%360*B:0,q()):[s*k,v*k,g*k]},y.angle=function(a){return arguments.length?(l=a%360*B,q()):l*k},y.reflectX=function(a){return arguments.length?(c=a?-1:1,q()):c<0},y.reflectY=function(a){return arguments.length?(p=a?-1:1,q()):p<0},y.precision=function(a){return arguments.length?(P=St(A,M=a*a),$()):tn(M)},y.fitExtent=function(a,N){return Ft(y,a,N)},y.fitSize=function(a,N){return fi(y,a,N)},y.fitWidth=function(a,N){return li(y,a,N)},y.fitHeight=function(a,N){return ci(y,a,N)};function q(){var a=dt(e,0,0,c,p,l).apply(null,t(f,u)),N=dt(e,i-a[0],r-a[1],c,p,l);return o=Zt(s,v,g),A=Yn(t,N),L=Yn(o,A),P=St(A,M),$()}function $(){return z=C=null,y}return function(){return t=n.apply(this,arguments),y.invert=t.invert&&Y,q()}}function kn(n,t){return[n,t]}kn.invert=kn;function wi(){return Si(kn).scale(152.63)}export{wi as e,_i as i};
