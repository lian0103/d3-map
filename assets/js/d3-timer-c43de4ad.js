var r=0,a=0,l=0,h=1e3,s,c,u=0,o=0,_=0,f=typeof performance=="object"&&performance.now?performance:Date,k=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function v(){return o||(k(y),o=f.now()+_)}function y(){o=0}function w(){this._call=this._time=this._next=null}w.prototype=T.prototype={constructor:w,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?v():+e)+(t==null?0:+t),!this._next&&c!==this&&(c?c._next=this:s=this,c=this),this._call=n,this._time=e,m()},stop:function(){this._call&&(this._call=null,this._time=1/0,m())}};function T(n,t,e){var i=new w;return i.restart(n,t,e),i}function I(){v(),++r;for(var n=s,t;n;)(t=o-n._time)>=0&&n._call.call(null,t),n=n._next;--r}function p(){o=(u=f.now())+_,r=a=0;try{I()}finally{r=0,b(),o=0}}function F(){var n=f.now(),t=n-u;t>h&&(_-=t,u=n)}function b(){for(var n,t=s,e,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:s=e);c=n,m(i)}function m(n){if(!r){a&&(a=clearTimeout(a));var t=n-o;t>24?(n<1/0&&(a=setTimeout(p,n-f.now()-_)),l&&(l=clearInterval(l))):(l||(u=f.now(),l=setInterval(F,h)),r=1,k(p))}}function d(n,t,e){var i=new w;return t=t==null?0:+t,i.restart(x=>{i.stop(),n(x+t)},t,e),i}export{d as a,v as n,T as t};
